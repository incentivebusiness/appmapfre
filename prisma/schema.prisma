// schema.prisma

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id             Int                @id @default(autoincrement())
  code           String             @unique @default(cuid())
  name           String             @db.VarChar(80)
  cpf            String             @unique @db.VarChar(11) // CPF deve ser único e não nulo
  gender         String?            @db.VarChar(1) // Se você quiser que seja obrigatório, remova o `?`
  socialName     String?
  email          String             @unique @db.VarChar(255) // Email deve ser único e não nulo
  hashedPassword String
  birthDate      DateTime           @db.Date
  cel            String             @db.VarChar(20)
  role           String   @default("USER")

  created        DateTime           @default(now())
  updated        DateTime           @updatedAt

  userAssistance UserAssistance[]
}

model UserAssistance {
  id             Int        @id @default(autoincrement())
  product        Int        @db.Integer // Ajuste o tipo conforme necessário
  actionType     Int        @db.Integer // Ajuste o tipo conforme necessário
  userId         Int

  user           User       @relation(fields: [userId], references: [id])

  @@index([userId]) // Adicione um índice para otimizar consultas
}

model LuckyNumber  {
  id Int @id @default(autoincrement())
  number String
  series String
  loteClient String
  qnty String
}